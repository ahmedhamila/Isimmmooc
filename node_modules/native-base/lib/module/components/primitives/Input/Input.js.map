{"version":3,"sources":["Input.tsx"],"names":["React","memo","forwardRef","TextInput","useToken","useFormControl","useHasResponsiveProps","useHover","extractInObject","stylingProps","usePropsResolution","mergeRefs","resolveStackStyleInput","Stack","makeStyledComponent","useResolvedFontFamily","StyledInput","Input","isHovered","isHoveredProp","isFocused","isFocusedProp","onKeyPress","InputLeftElement","InputRightElement","leftElement","rightElement","props","ref","inputProps","isDisabled","isInvalid","isReadOnly","isRequired","nativeID","setIsFocused","useState","handleFocus","focusState","callback","_ref","useRef","inputThemeProps","disabled","accessibilityInvalid","accessibilityReadOnly","required","ariaLabel","accessibilityLabel","type","isFullWidth","fontFamily","fontWeight","fontStyle","placeholderTextColor","selectionColor","underlineColorAndroid","onFocus","onBlur","wrapperRef","_stack","_input","resolvedProps","layoutProps","nonLayoutProps","margin","border","layout","flexbox","position","background","resolvedFontFamily","resolvedPlaceholderTextColor","resolvedSelectionColor","resolvedUnderlineColorAndroid","focusOutlineColor","invalidOutlineColor","borderColor","style","variant","undefined","e","persist"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,UAAtB,QAAwC,OAAxC;AAEA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,SAASC,qBAAT,QAAsC,sCAAtC;AACA,SAASC,QAAT,QAAyB,iCAAzB;AACA,SAASC,eAAT,EAA0BC,YAA1B,QAA8C,4BAA9C;AACA,SAASC,kBAAT,QAAmC,8BAAnC;AACA,SAASC,SAAT,EAAoBC,sBAApB,QAAkD,gBAAlD;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,qBAAT,QAAsC,sCAAtC;AAEA,MAAMC,WAAW,GAAGF,mBAAmB,CAACX,SAAD,CAAvC;;AAEA,MAAMc,KAAK,GAAG,CACZ;AACEC,EAAAA,SAAS,EAAEC,aADb;AAEEC,EAAAA,SAAS,EAAEC,aAFb;AAGEC,EAAAA,UAHF;AAIEC,EAAAA,gBAJF;AAKEC,EAAAA,iBALF;AAMEC,EAAAA,WANF;AAOEC,EAAAA,YAPF;AAQE,KAAGC;AARL,CADY,EAWZC,GAXY,KAYT;AACH,QAAMC,UAAU,GAAGxB,cAAc,CAAC;AAChCyB,IAAAA,UAAU,EAAEH,KAAK,CAACG,UADc;AAEhCC,IAAAA,SAAS,EAAEJ,KAAK,CAACI,SAFe;AAGhCC,IAAAA,UAAU,EAAEL,KAAK,CAACK,UAHc;AAIhCC,IAAAA,UAAU,EAAEN,KAAK,CAACM,UAJc;AAKhCC,IAAAA,QAAQ,EAAEP,KAAK,CAACO;AALgB,GAAD,CAAjC;AAOA,QAAM,CAACd,SAAD,EAAYe,YAAZ,IAA4BnC,KAAK,CAACoC,QAAN,CAAe,KAAf,CAAlC;;AACA,QAAMC,WAAW,GAAG,CAACC,UAAD,EAAsBC,QAAtB,KAAwC;AAC1DJ,IAAAA,YAAY,CAACG,UAAD,CAAZ;AACAC,IAAAA,QAAQ;AACT,GAHD;;AAKA,QAAMC,IAAI,GAAGxC,KAAK,CAACyC,MAAN,CAAa,IAAb,CAAb;;AACA,QAAM;AAAEvB,IAAAA;AAAF,MAAgBX,QAAQ,CAAC,EAAD,EAAKiC,IAAL,CAA9B;AAEA,QAAME,eAAe,GAAG;AACtBZ,IAAAA,UAAU,EAAED,UAAU,CAACc,QADD;AAEtBZ,IAAAA,SAAS,EAAEF,UAAU,CAACe,oBAFA;AAGtBZ,IAAAA,UAAU,EAAEH,UAAU,CAACgB,qBAHD;AAItBZ,IAAAA,UAAU,EAAEJ,UAAU,CAACiB;AAJD,GAAxB;AAOA,QAAM;AACJC,IAAAA,SADI;AAEJC,IAAAA,kBAFI;AAGJC,IAAAA,IAHI;AAIJC,IAAAA,WAJI;AAKJpB,IAAAA,UALI;AAMJE,IAAAA,UANI;AAOJmB,IAAAA,UAPI;AAQJC,IAAAA,UARI;AASJC,IAAAA,SATI;AAUJC,IAAAA,oBAVI;AAWJC,IAAAA,cAXI;AAYJC,IAAAA,qBAZI;AAaJC,IAAAA,OAbI;AAcJC,IAAAA,MAdI;AAeJC,IAAAA,UAfI;AAgBJC,IAAAA,MAhBI;AAiBJC,IAAAA,MAjBI;AAmBJ,OAAGC;AAnBC,MAoBFpD,kBAAkB,CACpB,OADoB,EAEpB,EACE,GAAGgC,eADL;AAEE,OAAGf;AAFL,GAFoB,EAMpB;AACEG,IAAAA,UAAU,EAAEY,eAAe,CAACZ,UAD9B;AAEEZ,IAAAA,SAAS,EAAEC,aAAa,IAAID,SAF9B;AAGEE,IAAAA,SAAS,EAAEC,aAAa,IAAID,SAH9B;AAIEW,IAAAA,SAAS,EAAEW,eAAe,CAACX,SAJ7B;AAKEC,IAAAA,UAAU,EAAEU,eAAe,CAACV;AAL9B,GANoB,CApBtB;AAmCA,QAAM,CAAC+B,WAAD,EAAcC,cAAd,IAAgCxD,eAAe,CAACsD,aAAD,EAAgB,CACnE,GAAGrD,YAAY,CAACwD,MADmD,EAEnE,GAAGxD,YAAY,CAACyD,MAFmD,EAGnE,GAAGzD,YAAY,CAAC0D,MAHmD,EAInE,GAAG1D,YAAY,CAAC2D,OAJmD,EAKnE,GAAG3D,YAAY,CAAC4D,QALmD,EAMnE,GAAG5D,YAAY,CAAC6D,UANmD,EAOnE,QAPmE,EAQnE,SARmE,CAAhB,CAArD;AAWA,QAAMC,kBAAkB,GAAGxD,qBAAqB,CAAC;AAC/CoC,IAAAA,UAD+C;AAE/CC,IAAAA,UAAU,EAAEA,UAAF,aAAEA,UAAF,cAAEA,UAAF,GAAgB,GAFqB;AAG/CC,IAAAA,SAAS,EAAEA,SAAF,aAAEA,SAAF,cAAEA,SAAF,GAAe;AAHuB,GAAD,CAAhD;AAKA,QAAMmB,4BAA4B,GAAGpE,QAAQ,CAAC,QAAD,EAAWkD,oBAAX,CAA7C;AACA,QAAMmB,sBAAsB,GAAGrE,QAAQ,CAAC,QAAD,EAAWmD,cAAX,CAAvC;AACA,QAAMmB,6BAA6B,GAAGtE,QAAQ,CAC5C,QAD4C,EAE5CoD,qBAF4C,CAA9C;AAKA;AACA;;AACAM,EAAAA,aAAa,CAACa,iBAAd,GAAkCvE,QAAQ,CACxC,QADwC,EAExC0D,aAAa,CAACa,iBAF0B,CAA1C,CApFG,CAwFH;;AACAb,EAAAA,aAAa,CAACc,mBAAd,GAAoCxE,QAAQ,CAC1C,QAD0C,EAE1C0D,aAAa,CAACc,mBAF4B,CAA5C,CAzFG,CA6FH;;AACA,MAAItE,qBAAqB,CAACqB,KAAD,CAAzB,EAAkC;AAChC,WAAO,IAAP;AACD;;AAED,MAAImC,aAAa,CAACa,iBAAd,IAAmCvD,SAAvC,EAAkD;AAChD2C,IAAAA,WAAW,CAACc,WAAZ,GAA0Bf,aAAa,CAACa,iBAAxC;AACAf,IAAAA,MAAM,CAACkB,KAAP,GAAelE,sBAAsB,CACnCe,KAAK,CAACoD,OAD6B,EAEnCjB,aAAa,CAACa,iBAFqB,CAArC;AAID;;AAED,MAAIb,aAAa,CAACc,mBAAd,IAAqCjD,KAAK,CAACI,SAA/C,EAA0D;AACxDgC,IAAAA,WAAW,CAACc,WAAZ,GAA0Bf,aAAa,CAACc,mBAAxC;AACAhB,IAAAA,MAAM,CAACkB,KAAP,GAAelE,sBAAsB,CACnCe,KAAK,CAACoD,OAD6B,EAEnCjB,aAAa,CAACc,mBAFqB,CAArC;AAID;;AAED,sBACE,oBAAC,KAAD,eACMhB,MADN,EAEMG,WAFN;AAGE,IAAA,GAAG,EAAEpD,SAAS,CAAC,CAAC6B,IAAD,EAAOmB,UAAP,CAAD,CAHhB;AAIE,IAAA,SAAS,EAAEvC;AAJb,MAMGG,gBAAgB,IAAIE,WAApB,GAAkCF,gBAAgB,IAAIE,WAAtD,GAAoE,IANvE,eAOE,oBAAC,WAAD,eACMI,UADN;AAEE,IAAA,eAAe,EAAEoB,IAAI,KAAK,UAF5B;AAGE,IAAA,UAAU,MAHZ;AAIE,IAAA,kBAAkB,EAAEF,SAAS,IAAIC,kBAJnC;AAKE,IAAA,QAAQ,EAAElB,UAAU,IAAIE,UAAd,GAA2B,KAA3B,GAAmC,IAL/C;AAME,IAAA,CAAC,EAAEkB,WAAW,GAAG,MAAH,GAAY8B;AAN5B,KAOMhB,cAPN,EAQMO,kBARN;AASE,IAAA,oBAAoB,EAAEC,4BATxB;AAUE,IAAA,cAAc,EAAEC,sBAVlB;AAWE,IAAA,qBAAqB,EAAEC,6BAXzB;AAYE,IAAA,UAAU,EAAGO,CAAD,IAAY;AACtBA,MAAAA,CAAC,CAACC,OAAF;AACA5D,MAAAA,UAAU,IAAIA,UAAU,CAAC2D,CAAD,CAAxB;AACD,KAfH;AAgBE,IAAA,OAAO,EAAGA,CAAD,IAAY;AACnB5C,MAAAA,WAAW,CAAC,IAAD,EAAOoB,OAAO,GAAG,MAAMA,OAAO,CAACwB,CAAD,CAAhB,GAAsB,MAAM,CAAE,CAA5C,CAAX;AACD,KAlBH;AAmBE,IAAA,MAAM,EAAGA,CAAD,IAAY;AAClB5C,MAAAA,WAAW,CAAC,KAAD,EAAQqB,MAAM,GAAG,MAAMA,MAAM,CAACuB,CAAD,CAAf,GAAqB,MAAM,CAAE,CAA3C,CAAX;AACD;AArBH,KAsBMpB,MAtBN;AAuBE,IAAA,GAAG,EAAElD,SAAS,CAAC,CAACiB,GAAD,EAAMY,IAAN,EAAYmB,UAAZ,CAAD;AAvBhB,KAPF,EAgCGnC,iBAAiB,IAAIE,YAArB,GACGF,iBAAiB,IAAIE,YADxB,GAEG,IAlCN,CADF;AAsCD,CApKD;;AAsKA,4BAAezB,IAAI,eAACC,UAAU,CAACe,KAAD,CAAX,CAAnB","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport type { IInputProps } from './types';\nimport { TextInput } from 'react-native';\nimport { useToken } from '../../../hooks';\nimport { useFormControl } from '../../composites/FormControl';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { mergeRefs, resolveStackStyleInput } from '../../../utils';\nimport { Stack } from '../Stack';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport { useResolvedFontFamily } from '../../../hooks/useResolvedFontFamily';\n\nconst StyledInput = makeStyledComponent(TextInput);\n\nconst Input = (\n  {\n    isHovered: isHoveredProp,\n    isFocused: isFocusedProp,\n    onKeyPress,\n    InputLeftElement,\n    InputRightElement,\n    leftElement,\n    rightElement,\n    ...props\n  }: IInputProps,\n  ref: any\n) => {\n  const inputProps = useFormControl({\n    isDisabled: props.isDisabled,\n    isInvalid: props.isInvalid,\n    isReadOnly: props.isReadOnly,\n    isRequired: props.isRequired,\n    nativeID: props.nativeID,\n  });\n  const [isFocused, setIsFocused] = React.useState(false);\n  const handleFocus = (focusState: boolean, callback: any) => {\n    setIsFocused(focusState);\n    callback();\n  };\n\n  const _ref = React.useRef(null);\n  const { isHovered } = useHover({}, _ref);\n\n  const inputThemeProps = {\n    isDisabled: inputProps.disabled,\n    isInvalid: inputProps.accessibilityInvalid,\n    isReadOnly: inputProps.accessibilityReadOnly,\n    isRequired: inputProps.required,\n  };\n\n  const {\n    ariaLabel,\n    accessibilityLabel,\n    type,\n    isFullWidth,\n    isDisabled,\n    isReadOnly,\n    fontFamily,\n    fontWeight,\n    fontStyle,\n    placeholderTextColor,\n    selectionColor,\n    underlineColorAndroid,\n    onFocus,\n    onBlur,\n    wrapperRef,\n    _stack,\n    _input,\n\n    ...resolvedProps\n  } = usePropsResolution(\n    'Input',\n    {\n      ...inputThemeProps,\n      ...props,\n    },\n    {\n      isDisabled: inputThemeProps.isDisabled,\n      isHovered: isHoveredProp || isHovered,\n      isFocused: isFocusedProp || isFocused,\n      isInvalid: inputThemeProps.isInvalid,\n      isReadOnly: inputThemeProps.isReadOnly,\n    }\n  );\n\n  const [layoutProps, nonLayoutProps] = extractInObject(resolvedProps, [\n    ...stylingProps.margin,\n    ...stylingProps.border,\n    ...stylingProps.layout,\n    ...stylingProps.flexbox,\n    ...stylingProps.position,\n    ...stylingProps.background,\n    'shadow',\n    'opacity',\n  ]);\n\n  const resolvedFontFamily = useResolvedFontFamily({\n    fontFamily,\n    fontWeight: fontWeight ?? 400,\n    fontStyle: fontStyle ?? 'normal',\n  });\n  const resolvedPlaceholderTextColor = useToken('colors', placeholderTextColor);\n  const resolvedSelectionColor = useToken('colors', selectionColor);\n  const resolvedUnderlineColorAndroid = useToken(\n    'colors',\n    underlineColorAndroid\n  );\n\n  /**Converting into Hash Color Code */\n  //@ts-ignore\n  resolvedProps.focusOutlineColor = useToken(\n    'colors',\n    resolvedProps.focusOutlineColor\n  );\n  //@ts-ignore\n  resolvedProps.invalidOutlineColor = useToken(\n    'colors',\n    resolvedProps.invalidOutlineColor\n  );\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (resolvedProps.focusOutlineColor && isFocused) {\n    layoutProps.borderColor = resolvedProps.focusOutlineColor;\n    _stack.style = resolveStackStyleInput(\n      props.variant,\n      resolvedProps.focusOutlineColor\n    );\n  }\n\n  if (resolvedProps.invalidOutlineColor && props.isInvalid) {\n    layoutProps.borderColor = resolvedProps.invalidOutlineColor;\n    _stack.style = resolveStackStyleInput(\n      props.variant,\n      resolvedProps.invalidOutlineColor\n    );\n  }\n\n  return (\n    <Stack\n      {..._stack}\n      {...layoutProps}\n      ref={mergeRefs([_ref, wrapperRef])}\n      isFocused={isFocused}\n    >\n      {InputLeftElement || leftElement ? InputLeftElement || leftElement : null}\n      <StyledInput\n        {...inputProps}\n        secureTextEntry={type === 'password'}\n        accessible\n        accessibilityLabel={ariaLabel || accessibilityLabel}\n        editable={isDisabled || isReadOnly ? false : true}\n        w={isFullWidth ? '100%' : undefined}\n        {...nonLayoutProps}\n        {...resolvedFontFamily}\n        placeholderTextColor={resolvedPlaceholderTextColor}\n        selectionColor={resolvedSelectionColor}\n        underlineColorAndroid={resolvedUnderlineColorAndroid}\n        onKeyPress={(e: any) => {\n          e.persist();\n          onKeyPress && onKeyPress(e);\n        }}\n        onFocus={(e: any) => {\n          handleFocus(true, onFocus ? () => onFocus(e) : () => {});\n        }}\n        onBlur={(e: any) => {\n          handleFocus(false, onBlur ? () => onBlur(e) : () => {});\n        }}\n        {..._input}\n        ref={mergeRefs([ref, _ref, wrapperRef])}\n      />\n      {InputRightElement || rightElement\n        ? InputRightElement || rightElement\n        : null}\n    </Stack>\n  );\n};\n\nexport default memo(forwardRef(Input));\n"]}