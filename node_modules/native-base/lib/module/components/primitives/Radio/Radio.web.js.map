{"version":3,"sources":["Radio.web.tsx"],"names":["React","memo","forwardRef","stableHash","Box","Stack","Center","usePropsResolution","wrapStringChild","mergeRefs","useHover","useRadio","VisuallyHidden","RadioContext","useFocusRing","CircleIcon","useHasResponsiveProps","combineContextAndProps","isEmptyObj","useFormControlContext","RadioComponent","icon","inputProps","combinedProps","children","wrapperRef","isHovered","isHoveredProp","isPressed","isPressedProp","isFocused","isFocusedProp","isFocusVisible","isFocusVisibleProp","props","ref","isInvalid","isReadOnly","isIndeterminate","disabled","isDisabled","checked","isChecked","_ref","useRef","mergedRefs","focusProps","setFocused","useState","setPressed","handleFocus","handleBlur","handlePressIn","handlePressOut","_interactionBox","_icon","_stack","_text","resolvedProps","sizedIcon","cloneElement","component","Radio","formControlContext","contextState","useContext","inputRef","radioState","accessibilityLabel","state","useMemo","contextCombinedProps","console","error"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\n//@ts-ignore\nimport stableHash from 'stable-hash';\nimport Box from '../Box';\nimport { Stack } from '../Stack';\nimport { Center } from '../../composites/Center';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { wrapStringChild } from '../../../utils/wrapStringChild';\nimport type { IRadioProps } from './types';\nimport { mergeRefs } from './../../../utils';\nimport { useHover } from '@react-native-aria/interactions';\nimport { useRadio } from '@react-native-aria/radio';\nimport { VisuallyHidden } from '@react-aria/visually-hidden';\nimport { RadioContext } from './RadioGroup';\nimport { useFocusRing } from '@react-native-aria/focus';\nimport { CircleIcon } from '../Icon/Icons';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { combineContextAndProps, isEmptyObj } from '../../../utils';\nimport { useFormControlContext } from '../../composites/FormControl';\nconst RadioComponent = memo(\n  forwardRef(\n    (\n      {\n        icon,\n        inputProps,\n        combinedProps,\n        children,\n        wrapperRef,\n        isHovered: isHoveredProp,\n        isPressed: isPressedProp,\n        isFocused: isFocusedProp,\n        isFocusVisible: isFocusVisibleProp,\n        ...props\n      }: any,\n      ref: any\n    ) => {\n      const { isInvalid, isReadOnly, isIndeterminate } = combinedProps;\n      const { disabled: isDisabled, checked: isChecked } = inputProps;\n      const _ref = React.useRef(null);\n      const { isHovered } = useHover({}, _ref);\n      const mergedRefs = mergeRefs([_ref, wrapperRef]);\n      const { focusProps, isFocusVisible } = useFocusRing();\n      const [isFocused, setFocused] = React.useState(isFocusedProp);\n      const [isPressed, setPressed] = React.useState(isPressedProp);\n      const handleFocus = () => {\n        setFocused(true);\n      };\n      const handleBlur = () => {\n        isFocusedProp ? setFocused(true) : setFocused(false);\n      };\n      const handlePressIn = () => {\n        setPressed(true);\n      };\n\n      const handlePressOut = () => {\n        isPressedProp ? setPressed(true) : setPressed(false);\n      };\n      const {\n        _interactionBox,\n        _icon,\n        _stack,\n        _text,\n        ...resolvedProps\n      } = usePropsResolution('Radio', combinedProps, {\n        isInvalid,\n        isReadOnly,\n        isFocusVisible: isFocusVisibleProp || isFocused || isFocusVisible,\n        isDisabled,\n        isIndeterminate,\n        isChecked,\n        isHovered: isHoveredProp || isHovered,\n        isPressed,\n        isFocused,\n      });\n\n      // only calling below function when icon exist.\n      const sizedIcon = () =>\n        //@ts-ignore\n        React.cloneElement(icon, {\n          ..._icon,\n        });\n\n      const component = (\n        <Stack {..._stack}>\n          <Center>\n            {/* Interaction Box */}\n            <Box {..._interactionBox} />\n            {/* Radio */}\n            <Center {...resolvedProps}>\n              {icon && sizedIcon && isChecked ? (\n                sizedIcon()\n              ) : (\n                <CircleIcon {..._icon} opacity={isChecked ? 1 : 0} />\n              )}\n            </Center>\n          </Center>\n          {wrapStringChild(children, _text)}\n        </Stack>\n      );\n      //TODO: refactor for responsive prop\n      if (useHasResponsiveProps(props)) {\n        return null;\n      }\n\n      return (\n        <Box\n          // @ts-ignore - RN web supports accessibilityRole=\"label\"\n          accessibilityRole=\"label\"\n          ref={mergedRefs}\n        >\n          <div onMouseDown={handlePressIn} onMouseUp={handlePressOut}>\n            <VisuallyHidden>\n              <input\n                {...inputProps}\n                {...focusProps}\n                ref={ref}\n                onFocus={handleFocus}\n                onBlur={handleBlur}\n              />\n            </VisuallyHidden>\n            {component}\n          </div>\n        </Box>\n      );\n    }\n  )\n);\n\nconst Radio = (\n  {\n    icon,\n    children,\n    wrapperRef,\n    isHovered: isHoveredProp,\n    isPressed,\n    isFocused: isFocusedProp,\n    isFocusVisible: isFocusVisibleProp,\n    ...props\n  }: IRadioProps,\n  ref: any\n) => {\n  const formControlContext = useFormControlContext();\n  const contextState = React.useContext(RadioContext);\n\n  const combinedProps = combineContextAndProps(\n    { ...formControlContext, ...contextState },\n    props\n  );\n\n  const inputRef = React.useRef(null);\n  const radioState = useRadio(\n    { ...combinedProps, 'aria-label': props.accessibilityLabel, children },\n    contextState.state ?? {},\n    inputRef\n  );\n\n  //@ts-ignore\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const inputProps = React.useMemo(() => radioState.inputProps, [\n    radioState.inputProps.checked,\n    radioState.inputProps.disabled,\n  ]);\n\n  const contextCombinedProps = React.useMemo(() => {\n    return { ...combinedProps };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stableHash(combinedProps)]);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  if (isEmptyObj(contextState)) {\n    console.error('Error: Radio must be wrapped inside a Radio.Group');\n    return <></>;\n  }\n\n  return (\n    <RadioComponent\n      inputProps={inputProps}\n      combinedProps={contextCombinedProps}\n      children={children}\n      ref={ref}\n      icon={icon}\n      wrapperRef={wrapperRef}\n      isHovered={isHoveredProp}\n      isPressed={isPressed}\n      isFocused={isFocusedProp}\n      isFocusVisible={isFocusVisibleProp}\n    />\n  );\n};\n\nexport default memo(forwardRef(Radio));\n"]}