{"version":3,"sources":["Input.tsx"],"names":["StyledInput","TextInput","Input","isHovered","isHoveredProp","isFocused","isFocusedProp","onKeyPress","InputLeftElement","InputRightElement","leftElement","rightElement","props","ref","inputProps","isDisabled","isInvalid","isReadOnly","isRequired","nativeID","setIsFocused","React","useState","handleFocus","focusState","callback","_ref","useRef","inputThemeProps","disabled","accessibilityInvalid","accessibilityReadOnly","required","ariaLabel","accessibilityLabel","type","isFullWidth","fontFamily","fontWeight","fontStyle","placeholderTextColor","selectionColor","underlineColorAndroid","onFocus","onBlur","wrapperRef","_stack","_input","resolvedProps","layoutProps","nonLayoutProps","stylingProps","margin","border","layout","flexbox","position","background","resolvedFontFamily","resolvedPlaceholderTextColor","resolvedSelectionColor","resolvedUnderlineColorAndroid","focusOutlineColor","invalidOutlineColor","borderColor","style","variant","undefined","e","persist"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport type { IInputProps } from './types';\nimport { TextInput } from 'react-native';\nimport { useToken } from '../../../hooks';\nimport { useFormControl } from '../../composites/FormControl';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { useHover } from '@react-native-aria/interactions';\nimport { extractInObject, stylingProps } from '../../../theme/tools/utils';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { mergeRefs, resolveStackStyleInput } from '../../../utils';\nimport { Stack } from '../Stack';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport { useResolvedFontFamily } from '../../../hooks/useResolvedFontFamily';\n\nconst StyledInput = makeStyledComponent(TextInput);\n\nconst Input = (\n  {\n    isHovered: isHoveredProp,\n    isFocused: isFocusedProp,\n    onKeyPress,\n    InputLeftElement,\n    InputRightElement,\n    leftElement,\n    rightElement,\n    ...props\n  }: IInputProps,\n  ref: any\n) => {\n  const inputProps = useFormControl({\n    isDisabled: props.isDisabled,\n    isInvalid: props.isInvalid,\n    isReadOnly: props.isReadOnly,\n    isRequired: props.isRequired,\n    nativeID: props.nativeID,\n  });\n  const [isFocused, setIsFocused] = React.useState(false);\n  const handleFocus = (focusState: boolean, callback: any) => {\n    setIsFocused(focusState);\n    callback();\n  };\n\n  const _ref = React.useRef(null);\n  const { isHovered } = useHover({}, _ref);\n\n  const inputThemeProps = {\n    isDisabled: inputProps.disabled,\n    isInvalid: inputProps.accessibilityInvalid,\n    isReadOnly: inputProps.accessibilityReadOnly,\n    isRequired: inputProps.required,\n  };\n\n  const {\n    ariaLabel,\n    accessibilityLabel,\n    type,\n    isFullWidth,\n    isDisabled,\n    isReadOnly,\n    fontFamily,\n    fontWeight,\n    fontStyle,\n    placeholderTextColor,\n    selectionColor,\n    underlineColorAndroid,\n    onFocus,\n    onBlur,\n    wrapperRef,\n    _stack,\n    _input,\n\n    ...resolvedProps\n  } = usePropsResolution(\n    'Input',\n    {\n      ...inputThemeProps,\n      ...props,\n    },\n    {\n      isDisabled: inputThemeProps.isDisabled,\n      isHovered: isHoveredProp || isHovered,\n      isFocused: isFocusedProp || isFocused,\n      isInvalid: inputThemeProps.isInvalid,\n      isReadOnly: inputThemeProps.isReadOnly,\n    }\n  );\n\n  const [layoutProps, nonLayoutProps] = extractInObject(resolvedProps, [\n    ...stylingProps.margin,\n    ...stylingProps.border,\n    ...stylingProps.layout,\n    ...stylingProps.flexbox,\n    ...stylingProps.position,\n    ...stylingProps.background,\n    'shadow',\n    'opacity',\n  ]);\n\n  const resolvedFontFamily = useResolvedFontFamily({\n    fontFamily,\n    fontWeight: fontWeight ?? 400,\n    fontStyle: fontStyle ?? 'normal',\n  });\n  const resolvedPlaceholderTextColor = useToken('colors', placeholderTextColor);\n  const resolvedSelectionColor = useToken('colors', selectionColor);\n  const resolvedUnderlineColorAndroid = useToken(\n    'colors',\n    underlineColorAndroid\n  );\n\n  /**Converting into Hash Color Code */\n  //@ts-ignore\n  resolvedProps.focusOutlineColor = useToken(\n    'colors',\n    resolvedProps.focusOutlineColor\n  );\n  //@ts-ignore\n  resolvedProps.invalidOutlineColor = useToken(\n    'colors',\n    resolvedProps.invalidOutlineColor\n  );\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (resolvedProps.focusOutlineColor && isFocused) {\n    layoutProps.borderColor = resolvedProps.focusOutlineColor;\n    _stack.style = resolveStackStyleInput(\n      props.variant,\n      resolvedProps.focusOutlineColor\n    );\n  }\n\n  if (resolvedProps.invalidOutlineColor && props.isInvalid) {\n    layoutProps.borderColor = resolvedProps.invalidOutlineColor;\n    _stack.style = resolveStackStyleInput(\n      props.variant,\n      resolvedProps.invalidOutlineColor\n    );\n  }\n\n  return (\n    <Stack\n      {..._stack}\n      {...layoutProps}\n      ref={mergeRefs([_ref, wrapperRef])}\n      isFocused={isFocused}\n    >\n      {InputLeftElement || leftElement ? InputLeftElement || leftElement : null}\n      <StyledInput\n        {...inputProps}\n        secureTextEntry={type === 'password'}\n        accessible\n        accessibilityLabel={ariaLabel || accessibilityLabel}\n        editable={isDisabled || isReadOnly ? false : true}\n        w={isFullWidth ? '100%' : undefined}\n        {...nonLayoutProps}\n        {...resolvedFontFamily}\n        placeholderTextColor={resolvedPlaceholderTextColor}\n        selectionColor={resolvedSelectionColor}\n        underlineColorAndroid={resolvedUnderlineColorAndroid}\n        onKeyPress={(e: any) => {\n          e.persist();\n          onKeyPress && onKeyPress(e);\n        }}\n        onFocus={(e: any) => {\n          handleFocus(true, onFocus ? () => onFocus(e) : () => {});\n        }}\n        onBlur={(e: any) => {\n          handleFocus(false, onBlur ? () => onBlur(e) : () => {});\n        }}\n        {..._input}\n        ref={mergeRefs([ref, _ref, wrapperRef])}\n      />\n      {InputRightElement || rightElement\n        ? InputRightElement || rightElement\n        : null}\n    </Stack>\n  );\n};\n\nexport default memo(forwardRef(Input));\n"]}